<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>스마트 리딩 플래시 v2 - 상태 저장</title> {/* 타이틀 변경 */}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="site-header">
        <h1><i class="fas fa-rocket"></i> 스마트 리딩 플래시 v2</h1>
        <button id="themeToggleButton" class="icon-button" title="테마 변경">
            <i class="fas fa-moon"></i>
        </button>
    </header>

    <main class="container">

        <!-- 스마트 리딩 토글 -->
        <div class="setting-toggle smart-reading-toggle">
            <label for="smartReadingCheckbox">
                <i class="fas fa-wand-magic-sparkles"></i> 스마트 리딩
            </label>
            <input type="checkbox" id="smartReadingCheckbox" checked>
        </div>

        <!-- 플래시 카드 영역 -->
        <div id="flashcardWrapper">
            <div id="flashcardDisplay" class="flashcard" title="클릭하여 재생/일시정지">
                <span id="wordContent">텍스트를 로드하세요</span>

                <!-- 전체 화면 시 정보 오버레이 -->
                <div id="fullscreenInfo" class="fullscreen-info">
                    <span id="fsCurrentWord">0</span> / <span id="fsTotalWords">0</span>
                    (<span id="fsProgressPercent">0.0</span>%)
                </div>

                <button id="fullscreenButton" class="icon-button fullscreen-toggle-btn" title="전체 화면 보기/나가기">
                    <i class="fas fa-expand"></i>
                </button>
                <div id="playPauseOverlay" class="play-pause-overlay">
                    <i class="fas fa-play"></i>
                </div>
            </div>
            <div id="timeDisplay" class="time-display">
                <span id="currentTime">00:00</span> / <span id="totalTime">00:00</span>
            </div>
        </div>

        <!-- 진행 및 네비게이션 -->
        <div class="progress-navigation">
            <input type="range" id="wordProgressBar" class="progress-bar" min="0" max="0" value="0" title="단어 위치 이동 (드래그 가능)">
            <div class="word-position-controls">
                 <div class="word-count-display">
                    단어: <span id="currentWordIndexLabel">0</span> / <span id="totalWordCountLabel">0</span>
                 </div>
                 <div class="word-jump-group">
                     <label for="wordJumpInput">이동:</label>
                     <input type="number" id="wordJumpInput" min="1" placeholder="#">
                     <button id="jumpButton" class="jump-button" title="해당 단어로 이동"><i class="fas fa-arrow-right-to-bracket"></i></button>
                 </div>
            </div>
        </div>

        <!-- 재생 컨트롤 -->
        <div class="playback-controls">
            <button id="prevWordButton" class="icon-button control-button" title="이전 단어 (Shift+←)">
                <i class="fas fa-backward-step"></i>
            </button>
            <button id="playButton" class="icon-button control-button main-control" title="재생 (Space)">
                <i class="fas fa-play"></i>
            </button>
             <button id="pauseButton" class="icon-button control-button main-control" title="일시정지 (Space)" style="display: none;">
                <i class="fas fa-pause"></i>
            </button>
            <button id="stopButton" class="icon-button control-button" title="정지 (Esc)">
                <i class="fas fa-stop"></i>
            </button>
            <button id="nextWordButton" class="icon-button control-button" title="다음 단어 (Shift+→)">
                <i class="fas fa-forward-step"></i>
            </button>
        </div>

        <!-- 입력 및 설정 -->
        <div class="input-settings">
            <div class="input-group">
                <label for="sentenceInput">텍스트 입력:</label>
                <textarea id="sentenceInput" rows="4" placeholder="여기에 텍스트를 입력하거나 아래 버튼으로 .txt 파일을 불러오세요..."></textarea>
                <label for="fileInput" class="file-label button-style">
                    <i class="fas fa-folder-open"></i> .txt 파일 열기
                </label>
                <input type="file" id="fileInput" accept=".txt" style="display: none;">
            </div>

            <div class="input-group wpm-group">
                <label for="wpmSlider">읽기 속도 (WPM: <output id="wpmValueLabel">120</output>)</label>
                <div class="wpm-input-controls">
                    <input type="range" id="wpmSlider" class="wpm-slider" min="20" max="600" value="120" step="5" title="WPM 조절 (5단위)">
                    <input type="number" id="wpmInput" value="120" placeholder="WPM" title="WPM 직접 입력 (제한 없음)">
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>